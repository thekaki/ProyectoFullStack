/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2025 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

async function registrarUsuario(){var e=document.getElementById("txtNombre").value.trim(),t=document.getElementById("txtApellido").value.trim(),o=document.getElementById("txtEmail").value.trim(),a=document.getElementById("txtPassword").value.trim(),r=document.getElementById("txtRepeatPassword").value.trim();if(!(e&&t&&o&&a&&r))return alert("Todos los campos son obligatorios ❌"),document.getElementById("txtPassword").value="",void(document.getElementById("txtRepeatPassword").value="");if(a!==r)return alert("Las contraseñas no coinciden ❌"),document.getElementById("txtPassword").value="",void(document.getElementById("txtRepeatPassword").value="");a={nombre:e,apellido:t,email:o,password:a};try{const d=await fetch("/api/usuario",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});if(!d.ok){var n=await d.json().catch(()=>({}));return alert("Error al registrar usuario ❌: "+(n.message||JSON.stringify(n))),document.getElementById("txtPassword").value="",void(document.getElementById("txtRepeatPassword").value="")}var s=await d.json().catch(()=>({}));console.log("Usuario creado:",s),alert("Usuario registrado con éxito ✅"),document.querySelector("form.user").reset(),window.location.href="login.html"}catch(e){alert("Error de conexión con el servidor ❌"),console.error(e)}}